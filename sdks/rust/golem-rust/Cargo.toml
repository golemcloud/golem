[package]
description = "Golem Rust tooling library that facilitates writing Golem backends in Rust"
edition = "2021"
homepage = "https://golem.cloud"
license = "Apache-2.0"
name = "golem-rust"
repository = "https://github.com/golemcloud/golem-rust"
version = "0.0.0"

[lib]
crate-type = ["rlib"]
path = "src/lib.rs"

[dependencies]
golem-rust-macro = {path = "../golem-rust-macro", version = "0.0.0", optional = true}

golem-wasm = {version = "1.3.2-dev.2", default-features = false, features = ["stub"]}
once_cell = {version = "1.21.3", optional = true}
serde = {version = "1", optional = true}
serde_json = {version = "1", optional = true}
uuid = {version = "1", features = ["v4"]}
wit-bindgen = {version = "=0.40.0"}

[features]
default = ["durability", "json", "macro"]
durability = []
export_golem_agentic = ["macro", "dep:once_cell"]
export_load_snapshot = []
export_oplog_processor = []
export_save_snapshot = []
json = ["dep:serde", "dep:serde_json"]
macro = ["dep:golem-rust-macro"]
