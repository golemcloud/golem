shardManager:
  image: golemservices/golem-shard-manager:latest
  imagePullPolicy: Always
  ports:
    http: 8081
    grpc: 9001
  service:
    type: ClusterIP
  worker:
    healthCheckType: "K8s"
  redis:
    port: 6379
    host: golem-redis-master
    username: ""
    database: 0
    password:
      type: secret # secret or plain, or none if no auth
      plain: ""
      secret: # password from kubernetes secret
        name: golem-redis
        key: redis-password
#  nodeSelector:

workerExecutor:
  image: golemservices/golem-worker-executor:latest
  imagePullPolicy: Always
  replica: 1
  ports:
    http: 8080
    grpc: 9000
  service:
    type: ClusterIP
  redis:
    port: 6379
    host: golem-redis-master
    username: ""
    database: 0
    password:
      type: secret # secret or plain, or none if no auth
      plain: ""
      secret: # password from kubernetes secret
        name: golem-redis
        key: redis-password
#  nodeSelector:

workerService:
  image: golemservices/golem-worker-service:latest
  imagePullPolicy: Always
  replica: 1
  ports:
    http: 9005
    requestHttp: 9006
    grpc: 9007
  service:
    type: LoadBalancer
  postgres:
    port: 5432
    host: golem-postgres-postgresql
    database: golem_db
    username: golem_user
    schema: golem_worker
    password:
      type: secret # secret or plain
      plain: ""
      secret: # password from kubernetes secret
        name: golem-postgres-postgresql
        key: password
#  nodeSelector:

componentService:
  image: golemservices/golem-component-service:latest
  imagePullPolicy: Always
  replica: 1
  ports:
    http: 8083
    grpc: 9090
  service:
    type: LoadBalancer
  postgres:
    port: 5432
    host: golem-postgres-postgresql
    database: golem_db
    username: golem_user
    schema: golem_component
    password:
      type: secret  # secret or plain
      plain: ""
      secret: # password from kubernetes secret
        name: golem-postgres-postgresql
        key: password
#  nodeSelector:

componentCompilationService:
  image: golemservices/golem-component-compilation-service:latest
  imagePullPolicy: Always
  replica: 1
  ports:
    http: 8084
    grpc: 9091
  service:
    type: LoadBalancer
#  nodeSelector:

logging:
  json: false # true, if json log output should be used

serviceAccountName: golem-sa-default

env: default

componentStore:
  type: pvc # pvc or s3
  pvc:
    storageClassName: hostpath
    storageSize: 5Gi
    accessMode: ReadWriteOnce
  s3:
    objectPrefix: ""
    bucket: ""
    region: "us-east-1"

workerExecutorStore:
  type: pvc # pvc or s3
  pvc:
    storageClassName: hostpath
    storageSize: 5Gi
    accessMode: ReadWriteOnce
  s3:
    objectPrefix: ""
    region: "us-east-1"
    compilationCacheBucket: "compilation-cache"
    customDataBucket: "custom-data"
    oplogPayloadBucket: "oplog-payload"
    compressedOplogBuckets: "[oplog-archive-1]"


ingress: # API ingress
  type: nginx # ngnix or aws alb
  nginx:
    annotations:
      kubernetes.io/ingress.class: nginx
      nginx.ingress.kubernetes.io/use-regex: "true"
  alb:
    annotations:
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip

ingressWorkerRequest: # worker bridge ingress
  type: none # none or aws alb
  alb:
    annotations:
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
