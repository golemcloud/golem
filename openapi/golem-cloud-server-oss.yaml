openapi: 3.0.0
info:
  title: Golem API
  version: '2.0'
servers: []
tags:
- name: Template
- name: Worker
paths:
  /v1/templates/{template_id}:
    get:
      tags:
      - Template
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Template'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '401':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '403':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
  /v1/templates/{template_id}/upload:
    put:
      tags:
      - Template
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      requestBody:
        content:
          application/octet-stream:
            schema:
              type: string
              format: binary
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/Template'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '401':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '403':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
  /v1/templates:
    post:
      tags:
      - Template
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              required:
              - name
              - template
              properties:
                name:
                  type: string
                template:
                  type: string
                  format: binary
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/Template'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '401':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '403':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
    get:
      tags:
      - Template
      parameters:
      - name: template-name
        schema:
          type: string
        in: query
        required: false
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Template'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '401':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '403':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
  /v1/templates/{template_id}/download:
    get:
      tags:
      - Template
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: version
        schema:
          type: integer
          format: int32
        in: query
        required: false
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '401':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '403':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
  /v1/templates/{template_id}/latest:
    get:
      tags:
      - Template
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                type: integer
                format: int32
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '401':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '403':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
  /v1/templates/workers/{worker_id}:
    get:
      tags:
      - Worker
      parameters:
      - name: worker_id
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/VersionedWorkerId'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      requestBody:
        content:
          application/json; charset=utf-8:
            schema:
              $ref: '#/components/schemas/WorkerCreationRequest'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/VersionedWorkerId'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}:
    delete:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/DeleteWorkerResponse'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
    get:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/WorkerMetadata'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}/key:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/InvocationKey'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}/invoke-and-await:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      - name: invocation-key
        schema:
          type: string
        in: query
        required: true
        deprecated: false
        explode: true
      - name: function
        schema:
          type: string
        in: query
        required: true
        deprecated: false
        explode: true
      - name: calling-convention
        schema:
          $ref: '#/components/schemas/CallingConvention'
        in: query
        required: false
        deprecated: false
        explode: true
      requestBody:
        content:
          application/json; charset=utf-8:
            schema:
              $ref: '#/components/schemas/InvokeParameters'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/InvokeResult'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}/invoke:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      - name: function
        schema:
          type: string
        in: query
        required: true
        deprecated: false
        explode: true
      requestBody:
        content:
          application/json; charset=utf-8:
            schema:
              $ref: '#/components/schemas/InvokeParameters'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/InvokeResponse'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}/complete:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      requestBody:
        content:
          application/json; charset=utf-8:
            schema:
              $ref: '#/components/schemas/CompleteParameters'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                type: boolean
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}/interrupt:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      - name: recovery-immediately
        schema:
          type: boolean
        in: query
        required: false
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/InterruptResponse'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
  /v1/templates/{template_id}/workers/{worker_name}/resume:
    post:
      tags:
      - Worker
      parameters:
      - name: template_id
        schema:
          type: string
          format: uuid
        in: path
        required: true
        deprecated: false
        explode: true
      - name: worker_name
        schema:
          type: string
        in: path
        required: true
        deprecated: false
        explode: true
      responses:
        '200':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ResumeResponse'
        '400':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorsBody'
        '404':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '409':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/ErrorBody'
        '500':
          description: ''
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/GolemErrorBody'
components:
  schemas:
    CallingConvention:
      type: string
      enum:
      - Component
      - Stdio
      - StdioEventloop
    CompleteParameters:
      type: object
      required:
      - oplogIdx
      - data
      properties:
        oplogIdx:
          type: integer
          format: int32
        data:
          type: array
          items:
            type: integer
            format: uint8
    DeleteWorkerResponse:
      type: object
    ErrorBody:
      type: object
      required:
      - error
      properties:
        error:
          type: string
    ErrorsBody:
      type: object
      required:
      - errors
      properties:
        errors:
          type: array
          items:
            type: string
    Export:
      type: object
      oneOf:
      - $ref: '#/components/schemas/Export_ExportInstance'
      - $ref: '#/components/schemas/Export_ExportFunction'
      discriminator:
        propertyName: type
        mapping:
          Instance: '#/components/schemas/Export_ExportInstance'
          Function: '#/components/schemas/Export_ExportFunction'
    ExportFunction:
      type: object
      required:
      - name
      - parameters
      - results
      properties:
        name:
          type: string
        parameters:
          type: array
          items:
            $ref: '#/components/schemas/FunctionParameter'
        results:
          type: array
          items:
            $ref: '#/components/schemas/FunctionResult'
    ExportInstance:
      type: object
      required:
      - name
      - functions
      properties:
        name:
          type: string
        functions:
          type: array
          items:
            $ref: '#/components/schemas/ExportFunction'
    Export_ExportFunction:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Function
      - $ref: '#/components/schemas/ExportFunction'
    Export_ExportInstance:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Instance
      - $ref: '#/components/schemas/ExportInstance'
    FunctionParameter:
      type: object
      required:
      - name
      - tpe
      properties:
        name:
          type: string
        tpe:
          $ref: '#/components/schemas/Type'
    FunctionResult:
      type: object
      required:
      - tpe
      properties:
        name:
          type: string
        tpe:
          $ref: '#/components/schemas/Type'
    GolemError:
      type: object
      oneOf:
      - $ref: '#/components/schemas/GolemError_GolemErrorInvalidRequest'
      - $ref: '#/components/schemas/GolemError_GolemErrorWorkerAlreadyExists'
      - $ref: '#/components/schemas/GolemError_GolemErrorWorkerNotFound'
      - $ref: '#/components/schemas/GolemError_GolemErrorWorkerCreationFailed'
      - $ref: '#/components/schemas/GolemError_GolemErrorFailedToResumeWorker'
      - $ref: '#/components/schemas/GolemError_GolemErrorTemplateDownloadFailed'
      - $ref: '#/components/schemas/GolemError_GolemErrorTemplateParseFailed'
      - $ref: '#/components/schemas/GolemError_GolemErrorGetLatestVersionOfTemplateFailed'
      - $ref: '#/components/schemas/GolemError_GolemErrorPromiseNotFound'
      - $ref: '#/components/schemas/GolemError_GolemErrorPromiseDropped'
      - $ref: '#/components/schemas/GolemError_GolemErrorPromiseAlreadyCompleted'
      - $ref: '#/components/schemas/GolemError_GolemErrorInterrupted'
      - $ref: '#/components/schemas/GolemError_GolemErrorParamTypeMismatch'
      - $ref: '#/components/schemas/GolemError_GolemErrorNoValueInMessage'
      - $ref: '#/components/schemas/GolemError_GolemErrorValueMismatch'
      - $ref: '#/components/schemas/GolemError_GolemErrorUnexpectedOplogEntry'
      - $ref: '#/components/schemas/GolemError_GolemErrorRuntimeError'
      - $ref: '#/components/schemas/GolemError_GolemErrorInvalidShardId'
      - $ref: '#/components/schemas/GolemError_GolemErrorPreviousInvocationFailed'
      - $ref: '#/components/schemas/GolemError_GolemErrorPreviousInvocationExited'
      - $ref: '#/components/schemas/GolemError_GolemErrorUnknown'
      - $ref: '#/components/schemas/GolemError_GolemErrorInvalidAccount'
      discriminator:
        propertyName: type
        mapping:
          InvalidRequest: '#/components/schemas/GolemError_GolemErrorInvalidRequest'
          WorkerAlreadyExists: '#/components/schemas/GolemError_GolemErrorWorkerAlreadyExists'
          WorkerNotFound: '#/components/schemas/GolemError_GolemErrorWorkerNotFound'
          WorkerCreationFailed: '#/components/schemas/GolemError_GolemErrorWorkerCreationFailed'
          FailedToResumeWorker: '#/components/schemas/GolemError_GolemErrorFailedToResumeWorker'
          TemplateDownloadFailed: '#/components/schemas/GolemError_GolemErrorTemplateDownloadFailed'
          TemplateParseFailed: '#/components/schemas/GolemError_GolemErrorTemplateParseFailed'
          GetLatestVersionOfTemplateFailed: '#/components/schemas/GolemError_GolemErrorGetLatestVersionOfTemplateFailed'
          PromiseNotFound: '#/components/schemas/GolemError_GolemErrorPromiseNotFound'
          PromiseDropped: '#/components/schemas/GolemError_GolemErrorPromiseDropped'
          PromiseAlreadyCompleted: '#/components/schemas/GolemError_GolemErrorPromiseAlreadyCompleted'
          Interrupted: '#/components/schemas/GolemError_GolemErrorInterrupted'
          ParamTypeMismatch: '#/components/schemas/GolemError_GolemErrorParamTypeMismatch'
          NoValueInMessage: '#/components/schemas/GolemError_GolemErrorNoValueInMessage'
          ValueMismatch: '#/components/schemas/GolemError_GolemErrorValueMismatch'
          UnexpectedOplogEntry: '#/components/schemas/GolemError_GolemErrorUnexpectedOplogEntry'
          RuntimeError: '#/components/schemas/GolemError_GolemErrorRuntimeError'
          InvalidShardId: '#/components/schemas/GolemError_GolemErrorInvalidShardId'
          PreviousInvocationFailed: '#/components/schemas/GolemError_GolemErrorPreviousInvocationFailed'
          PreviousInvocationExited: '#/components/schemas/GolemError_GolemErrorPreviousInvocationExited'
          Unknown: '#/components/schemas/GolemError_GolemErrorUnknown'
          InvalidAccount: '#/components/schemas/GolemError_GolemErrorInvalidAccount'
    GolemErrorBody:
      type: object
      required:
      - golem_error
      properties:
        golem_error:
          $ref: '#/components/schemas/GolemError'
    GolemErrorFailedToResumeWorker:
      type: object
      required:
      - workerId
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
    GolemErrorGetLatestVersionOfTemplateFailed:
      type: object
      required:
      - templateId
      - reason
      properties:
        templateId:
          type: string
          format: uuid
        reason:
          type: string
    GolemErrorInterrupted:
      type: object
      required:
      - recoverImmediately
      properties:
        recoverImmediately:
          type: boolean
    GolemErrorInvalidAccount:
      type: object
    GolemErrorInvalidRequest:
      type: object
      required:
      - details
      properties:
        details:
          type: string
    GolemErrorInvalidShardId:
      type: object
      required:
      - shardId
      - shardIds
      properties:
        shardId:
          $ref: '#/components/schemas/ShardId'
        shardIds:
          type: array
          items:
            $ref: '#/components/schemas/ShardId'
    GolemErrorNoValueInMessage:
      type: object
    GolemErrorParamTypeMismatch:
      type: object
    GolemErrorPreviousInvocationExited:
      type: object
    GolemErrorPreviousInvocationFailed:
      type: object
    GolemErrorPromiseAlreadyCompleted:
      type: object
      required:
      - promiseId
      properties:
        promiseId:
          $ref: '#/components/schemas/PromiseId'
    GolemErrorPromiseDropped:
      type: object
      required:
      - promiseId
      properties:
        promiseId:
          $ref: '#/components/schemas/PromiseId'
    GolemErrorPromiseNotFound:
      type: object
      required:
      - promiseId
      properties:
        promiseId:
          $ref: '#/components/schemas/PromiseId'
    GolemErrorRuntimeError:
      type: object
      required:
      - details
      properties:
        details:
          type: string
    GolemErrorTemplateDownloadFailed:
      type: object
      required:
      - templateId
      - reason
      properties:
        templateId:
          $ref: '#/components/schemas/VersionedTemplateId'
        reason:
          type: string
    GolemErrorTemplateParseFailed:
      type: object
      required:
      - templateId
      - reason
      properties:
        templateId:
          $ref: '#/components/schemas/VersionedTemplateId'
        reason:
          type: string
    GolemErrorUnexpectedOplogEntry:
      type: object
      required:
      - expected
      - got
      properties:
        expected:
          type: string
        got:
          type: string
    GolemErrorUnknown:
      type: object
      required:
      - details
      properties:
        details:
          type: string
    GolemErrorValueMismatch:
      type: object
      required:
      - details
      properties:
        details:
          type: string
    GolemErrorWorkerAlreadyExists:
      type: object
      required:
      - workerId
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
    GolemErrorWorkerCreationFailed:
      type: object
      required:
      - workerId
      - details
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
        details:
          type: string
    GolemErrorWorkerNotFound:
      type: object
      required:
      - workerId
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
    GolemError_GolemErrorFailedToResumeWorker:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: FailedToResumeWorker
      - $ref: '#/components/schemas/GolemErrorFailedToResumeWorker'
    GolemError_GolemErrorGetLatestVersionOfTemplateFailed:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: GetLatestVersionOfTemplateFailed
      - $ref: '#/components/schemas/GolemErrorGetLatestVersionOfTemplateFailed'
    GolemError_GolemErrorInterrupted:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Interrupted
      - $ref: '#/components/schemas/GolemErrorInterrupted'
    GolemError_GolemErrorInvalidAccount:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: InvalidAccount
      - $ref: '#/components/schemas/GolemErrorInvalidAccount'
    GolemError_GolemErrorInvalidRequest:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: InvalidRequest
      - $ref: '#/components/schemas/GolemErrorInvalidRequest'
    GolemError_GolemErrorInvalidShardId:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: InvalidShardId
      - $ref: '#/components/schemas/GolemErrorInvalidShardId'
    GolemError_GolemErrorNoValueInMessage:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: NoValueInMessage
      - $ref: '#/components/schemas/GolemErrorNoValueInMessage'
    GolemError_GolemErrorParamTypeMismatch:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: ParamTypeMismatch
      - $ref: '#/components/schemas/GolemErrorParamTypeMismatch'
    GolemError_GolemErrorPreviousInvocationExited:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: PreviousInvocationExited
      - $ref: '#/components/schemas/GolemErrorPreviousInvocationExited'
    GolemError_GolemErrorPreviousInvocationFailed:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: PreviousInvocationFailed
      - $ref: '#/components/schemas/GolemErrorPreviousInvocationFailed'
    GolemError_GolemErrorPromiseAlreadyCompleted:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: PromiseAlreadyCompleted
      - $ref: '#/components/schemas/GolemErrorPromiseAlreadyCompleted'
    GolemError_GolemErrorPromiseDropped:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: PromiseDropped
      - $ref: '#/components/schemas/GolemErrorPromiseDropped'
    GolemError_GolemErrorPromiseNotFound:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: PromiseNotFound
      - $ref: '#/components/schemas/GolemErrorPromiseNotFound'
    GolemError_GolemErrorRuntimeError:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: RuntimeError
      - $ref: '#/components/schemas/GolemErrorRuntimeError'
    GolemError_GolemErrorTemplateDownloadFailed:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: TemplateDownloadFailed
      - $ref: '#/components/schemas/GolemErrorTemplateDownloadFailed'
    GolemError_GolemErrorTemplateParseFailed:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: TemplateParseFailed
      - $ref: '#/components/schemas/GolemErrorTemplateParseFailed'
    GolemError_GolemErrorUnexpectedOplogEntry:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: UnexpectedOplogEntry
      - $ref: '#/components/schemas/GolemErrorUnexpectedOplogEntry'
    GolemError_GolemErrorUnknown:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Unknown
      - $ref: '#/components/schemas/GolemErrorUnknown'
    GolemError_GolemErrorValueMismatch:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: ValueMismatch
      - $ref: '#/components/schemas/GolemErrorValueMismatch'
    GolemError_GolemErrorWorkerAlreadyExists:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: WorkerAlreadyExists
      - $ref: '#/components/schemas/GolemErrorWorkerAlreadyExists'
    GolemError_GolemErrorWorkerCreationFailed:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: WorkerCreationFailed
      - $ref: '#/components/schemas/GolemErrorWorkerCreationFailed'
    GolemError_GolemErrorWorkerNotFound:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: WorkerNotFound
      - $ref: '#/components/schemas/GolemErrorWorkerNotFound'
    InterruptResponse:
      type: object
    InvocationKey:
      type: object
      required:
      - value
      properties:
        value:
          type: string
    InvokeParameters:
      type: object
      required:
      - params
      properties:
        params: {}
    InvokeResponse:
      type: object
    InvokeResult:
      type: object
      required:
      - result
      properties:
        result: {}
    NameOptionTypePair:
      type: object
      required:
      - name
      properties:
        name:
          type: string
        typ:
          $ref: '#/components/schemas/Type'
    NameTypePair:
      type: object
      required:
      - name
      - typ
      properties:
        name:
          type: string
        typ:
          $ref: '#/components/schemas/Type'
    ProducerField:
      type: object
      required:
      - name
      - values
      properties:
        name:
          type: string
        values:
          type: array
          items:
            $ref: '#/components/schemas/VersionedName'
    Producers:
      type: object
      required:
      - fields
      properties:
        fields:
          type: array
          items:
            $ref: '#/components/schemas/ProducerField'
    PromiseId:
      type: object
      required:
      - workerId
      - oplogIdx
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
        oplogIdx:
          type: integer
          format: int32
    ProtectedTemplateId:
      type: object
      required:
      - versionedTemplateId
      properties:
        versionedTemplateId:
          $ref: '#/components/schemas/VersionedTemplateId'
    ResumeResponse:
      type: object
    ShardId:
      type: object
      required:
      - value
      properties:
        value:
          type: integer
          format: int64
    Template:
      type: object
      required:
      - versionedTemplateId
      - userTemplateId
      - protectedTemplateId
      - templateName
      - templateSize
      - metadata
      properties:
        versionedTemplateId:
          $ref: '#/components/schemas/VersionedTemplateId'
        userTemplateId:
          $ref: '#/components/schemas/UserTemplateId'
        protectedTemplateId:
          $ref: '#/components/schemas/ProtectedTemplateId'
        templateName:
          type: string
        templateSize:
          type: integer
          format: int32
        metadata:
          $ref: '#/components/schemas/TemplateMetadata'
    TemplateMetadata:
      type: object
      required:
      - exports
      - producers
      properties:
        exports:
          type: array
          items:
            $ref: '#/components/schemas/Export'
        producers:
          type: array
          items:
            $ref: '#/components/schemas/Producers'
    Type:
      type: object
      oneOf:
      - $ref: '#/components/schemas/Type_TypeVariant'
      - $ref: '#/components/schemas/Type_TypeResult'
      - $ref: '#/components/schemas/Type_TypeOption'
      - $ref: '#/components/schemas/Type_TypeEnum'
      - $ref: '#/components/schemas/Type_TypeFlags'
      - $ref: '#/components/schemas/Type_TypeRecord'
      - $ref: '#/components/schemas/Type_TypeTuple'
      - $ref: '#/components/schemas/Type_TypeList'
      - $ref: '#/components/schemas/Type_TypeStr'
      - $ref: '#/components/schemas/Type_TypeChr'
      - $ref: '#/components/schemas/Type_TypeF64'
      - $ref: '#/components/schemas/Type_TypeF32'
      - $ref: '#/components/schemas/Type_TypeU64'
      - $ref: '#/components/schemas/Type_TypeS64'
      - $ref: '#/components/schemas/Type_TypeU32'
      - $ref: '#/components/schemas/Type_TypeS32'
      - $ref: '#/components/schemas/Type_TypeU16'
      - $ref: '#/components/schemas/Type_TypeS16'
      - $ref: '#/components/schemas/Type_TypeU8'
      - $ref: '#/components/schemas/Type_TypeS8'
      - $ref: '#/components/schemas/Type_TypeBool'
      discriminator:
        propertyName: type
        mapping:
          Variant: '#/components/schemas/Type_TypeVariant'
          Result: '#/components/schemas/Type_TypeResult'
          Option: '#/components/schemas/Type_TypeOption'
          Enum: '#/components/schemas/Type_TypeEnum'
          Flags: '#/components/schemas/Type_TypeFlags'
          Record: '#/components/schemas/Type_TypeRecord'
          Tuple: '#/components/schemas/Type_TypeTuple'
          List: '#/components/schemas/Type_TypeList'
          Str: '#/components/schemas/Type_TypeStr'
          Chr: '#/components/schemas/Type_TypeChr'
          F64: '#/components/schemas/Type_TypeF64'
          F32: '#/components/schemas/Type_TypeF32'
          U64: '#/components/schemas/Type_TypeU64'
          S64: '#/components/schemas/Type_TypeS64'
          U32: '#/components/schemas/Type_TypeU32'
          S32: '#/components/schemas/Type_TypeS32'
          U16: '#/components/schemas/Type_TypeU16'
          S16: '#/components/schemas/Type_TypeS16'
          U8: '#/components/schemas/Type_TypeU8'
          S8: '#/components/schemas/Type_TypeS8'
          Bool: '#/components/schemas/Type_TypeBool'
    TypeBool:
      type: object
    TypeChr:
      type: object
    TypeEnum:
      type: object
      required:
      - cases
      properties:
        cases:
          type: array
          items:
            type: string
    TypeF32:
      type: object
    TypeF64:
      type: object
    TypeFlags:
      type: object
      required:
      - cases
      properties:
        cases:
          type: array
          items:
            type: string
    TypeList:
      type: object
      required:
      - inner
      properties:
        inner:
          $ref: '#/components/schemas/Type'
    TypeOption:
      type: object
      required:
      - inner
      properties:
        inner:
          $ref: '#/components/schemas/Type'
    TypeRecord:
      type: object
      required:
      - cases
      properties:
        cases:
          type: array
          items:
            $ref: '#/components/schemas/NameTypePair'
    TypeResult:
      type: object
      properties:
        ok:
          $ref: '#/components/schemas/Type'
        err:
          $ref: '#/components/schemas/Type'
    TypeS16:
      type: object
    TypeS32:
      type: object
    TypeS64:
      type: object
    TypeS8:
      type: object
    TypeStr:
      type: object
    TypeTuple:
      type: object
      required:
      - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/Type'
    TypeU16:
      type: object
    TypeU32:
      type: object
    TypeU64:
      type: object
    TypeU8:
      type: object
    TypeVariant:
      type: object
      required:
      - cases
      properties:
        cases:
          type: array
          items:
            $ref: '#/components/schemas/NameOptionTypePair'
    Type_TypeBool:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Bool
      - $ref: '#/components/schemas/TypeBool'
    Type_TypeChr:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Chr
      - $ref: '#/components/schemas/TypeChr'
    Type_TypeEnum:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Enum
      - $ref: '#/components/schemas/TypeEnum'
    Type_TypeF32:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: F32
      - $ref: '#/components/schemas/TypeF32'
    Type_TypeF64:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: F64
      - $ref: '#/components/schemas/TypeF64'
    Type_TypeFlags:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Flags
      - $ref: '#/components/schemas/TypeFlags'
    Type_TypeList:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: List
      - $ref: '#/components/schemas/TypeList'
    Type_TypeOption:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Option
      - $ref: '#/components/schemas/TypeOption'
    Type_TypeRecord:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Record
      - $ref: '#/components/schemas/TypeRecord'
    Type_TypeResult:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Result
      - $ref: '#/components/schemas/TypeResult'
    Type_TypeS16:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: S16
      - $ref: '#/components/schemas/TypeS16'
    Type_TypeS32:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: S32
      - $ref: '#/components/schemas/TypeS32'
    Type_TypeS64:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: S64
      - $ref: '#/components/schemas/TypeS64'
    Type_TypeS8:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: S8
      - $ref: '#/components/schemas/TypeS8'
    Type_TypeStr:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Str
      - $ref: '#/components/schemas/TypeStr'
    Type_TypeTuple:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Tuple
      - $ref: '#/components/schemas/TypeTuple'
    Type_TypeU16:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: U16
      - $ref: '#/components/schemas/TypeU16'
    Type_TypeU32:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: U32
      - $ref: '#/components/schemas/TypeU32'
    Type_TypeU64:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: U64
      - $ref: '#/components/schemas/TypeU64'
    Type_TypeU8:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: U8
      - $ref: '#/components/schemas/TypeU8'
    Type_TypeVariant:
      allOf:
      - type: object
        required:
        - type
        properties:
          type:
            type: string
            example: Variant
      - $ref: '#/components/schemas/TypeVariant'
    UserTemplateId:
      type: object
      required:
      - versionedTemplateId
      properties:
        versionedTemplateId:
          $ref: '#/components/schemas/VersionedTemplateId'
    VersionedName:
      type: object
      required:
      - name
      - version
      properties:
        name:
          type: string
        version:
          type: string
    VersionedTemplateId:
      type: object
      required:
      - templateId
      - version
      properties:
        templateId:
          type: string
          format: uuid
        version:
          type: integer
          format: int32
    VersionedWorkerId:
      type: object
      required:
      - workerId
      - templateVersionUsed
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
        templateVersionUsed:
          type: integer
          format: int32
    WorkerCreationRequest:
      type: object
      required:
      - name
      - args
      - env
      properties:
        name:
          type: string
        args:
          type: array
          items:
            type: string
        env:
          type: object
          additionalProperties:
            type: string
    WorkerId:
      type: object
      required:
      - templateId
      - workerName
      properties:
        templateId:
          type: string
          format: uuid
        workerName:
          type: string
    WorkerMetadata:
      type: object
      required:
      - workerId
      - args
      - env
      - status
      - templateVersion
      - retryCount
      properties:
        workerId:
          $ref: '#/components/schemas/WorkerId'
        args:
          type: array
          items:
            type: string
        env:
          type: object
          additionalProperties:
            type: string
        status:
          $ref: '#/components/schemas/WorkerStatus'
        templateVersion:
          type: integer
          format: int32
        retryCount:
          type: integer
          format: int32
    WorkerStatus:
      type: string
      description: |-
        Represents last known status of a worker

        This is always recorded together with the current oplog index, and it can only be used
        as a source of truth if there are no newer oplog entries since the record.
      enum:
      - Running
      - Idle
      - Suspended
      - Interrupted
      - Retrying
      - Failed
      - Exited

