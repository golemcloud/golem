package golem:agentic-guest;

interface guest {
    use golem:agentic/common.{status-update, agent-definition};

    record agent-ref {
        agent-id: string,
        agent-name: string,
        agent-handle: u32,
    }

    resource agent {
        constructor(agent-id: string);

        get-agent-id: func() -> string;

        invoke: func(method-name: string, input: list<string>) -> status-update;

        get-definition: func() -> agent-definition;

        /// export-state: func() -> result<wit-value, error>;
        /// import-state: func(wit-value) -> result<_, error>;
    }

    get-agent: func(agent-id: string) -> agent-ref;

    discover-agents: func() -> list<agent-ref>;

    discover-agent-definitions: func() -> list<agent-definition>;
}

world agentic-guest {
    import golem:api/host@1.1.7;
    import golem:rpc/types@0.2.1;
    export guest;
}
